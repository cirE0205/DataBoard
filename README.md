# 📊 周度工作成效数据看板

Weekly Business Performance Dashboard - 专为周度汇报会议设计的数据可视化工具

## ✨ 功能特性

- 📈 **双轴图表展示**: 柱状图显示数量指标，折线图显示百分比转化率
- 📝 **数据录入管理**: 管理员模式下可新增、编辑、删除数据
- 🧮 **自动计算**: 输入基础数据后自动计算三种转化率（可手动调整）
- 💾 **本地存储**: 数据保存在浏览器 localStorage，无需后端数据库
- 📱 **响应式设计**: 支持手机、平板、电脑多端访问
- 📥 **数据导出**: 一键导出 CSV 格式数据
- 📤 **CSV导入**: 支持导入自定义 CSV 数据（替换或合并模式）

## 🚀 快速开始

### 本地预览

1. 直接用浏览器打开 `index.html`
2. 点击"管理员模式"复选框
3. 开始录入数据

### GitHub Pages 部署

1. **推送到 GitHub 仓库**
   ```bash
   cd web/DataDashBoard/Git/DataBoard
   git init
   git add .
   git commit -m "Initial dashboard"
   git remote add origin https://github.com/你的用户名/你的仓库名.git
   git push -u origin main
   ```

2. **启用 GitHub Pages**
   - 进入仓库 Settings → Pages
   - Source: 选择分支 `main`
   - Folder: 选择 `/` (root) 或指定文件夹
   - 点击 Save

3. **访问地址**
   ```
   https://你的用户名.github.io/你的仓库名/
   ```

## 📖 使用说明

### 数据录入步骤

1. **开启管理员模式**
   - 勾选页面顶部的"管理员模式"复选框

2. **填写数据**
   - **日期/周次**: 输入日期范围（如 `12月2日-12月8日`）或周次（如 `第1周`）
   - **注册量**: 本周新增注册用户数
   - **开户成功数**: 成功开户的用户数
   - **开户转化率**: 输入注册量和开户成功数后自动计算
   - **入金数**: 成功入金的用户数
   - **入金率**: 自动计算（入金数 ÷ 开户成功数）
   - **有效户数**: 活跃交易的有效用户数
   - **有效户率**: 自动计算（有效户数 ÷ 开户成功数）
   - **创收**: 本周产生的收入金额

3. **保存数据**
   - 点击"💾 保存"按钮
   - 数据会自动保存到浏览器本地存储

### 数据管理

- **编辑**: 点击表格中的"✏️ 编辑"按钮，修改后保存
- **删除**: 点击"🗑️ 删除"按钮（需确认）
- **导出**: 点击"📥 导出数据"按钮，下载 CSV 文件
- **导入**: 点击"📤 导入CSV"按钮，选择符合格式的 CSV 文件
  - **替换模式**: 清空现有数据，导入新数据
  - **合并模式**: 保留现有数据，同日期则更新，新日期则添加
  - **智能计算**: CSV中百分比列为空时，自动根据数值计算（支持Excel导出的空列）

### 查看模式

- **时间筛选**: 选择"全部数据"、"最近 4/8/12 周"或"自定义"
- **图表交互**: 鼠标悬停查看详细数值，点击图例隐藏/显示数据系列

## 📊 数据指标说明

| 指标 | 说明 | 计算公式 |
|------|------|----------|
| 注册量 | 本周新注册用户数 | 手动输入 |
| 开户成功数 | 成功完成开户的用户数 | 手动输入 |
| 开户转化率 | 从注册到开户的转化率 | **(开户成功数 ÷ 注册量) × 100%** |
| 入金数 | 成功入金的用户数 | 手动输入 |
| 入金率 | 从开户到入金的转化率 | **(入金数 ÷ 开户成功数) × 100%** |
| 有效户数 | 活跃交易的有效用户数 | 手动输入 |
| 有效户率 | 从开户到有效户的转化率 | **(有效户数 ÷ 开户成功数) × 100%** |
| 创收 | 本周产生的收入金额 | 手动输入 |

## 🔧 技术栈

- **前端框架**: 纯 HTML/CSS/JavaScript (无需 Node.js 或构建工具)
- **图表库**: Apache ECharts 5.x (本地引入，无需网络)
- **数据存储**: localStorage (浏览器本地)
- **部署**: GitHub Pages (静态托管)

## 💡 常见问题

### Q: 数据会丢失吗？
A: 数据保存在浏览器 localStorage 中，清除浏览器缓存会丢失。建议定期使用"导出数据"功能备份。

### Q: 需要网络连接吗？
A: 不需要！ECharts 图表库已本地化，完全离线可用。只有 GitHub Pages 部署时需要网络。

### Q: 可以多人协作吗？
A: 当前版本为单机版（localStorage）。如需多人协作，建议：
   - 定期导出/导入 CSV 数据
   - 或使用 Google Sheets 等在线表格工具

### Q: 如何备份数据？
A: 方式一：点击"导出数据"下载 CSV；方式二：打开浏览器开发者工具，在 Console 执行：
```javascript
copy(localStorage.getItem('weeklyMetrics'))
```
然后粘贴保存到文本文件。

## 📝 更新日志

### v1.2.3 (2026-01-20)
- ✅ **图表增强**: 添加"创收"数据到图表（虚线显示，左侧Y轴）

### v1.2.2 (2026-01-20)
- ✅ **精度提升**: 百分比显示从 1 位小数改为 2 位小数 (xx.xx%)
- ✅ **顺序保持**: 数据按 CSV 输入顺序显示，不自动排序（保持用户原始顺序）
- ✅ **图表同步**: 图表和表格显示顺序保持一致

### v1.2.1 (2026-01-20)
- ✅ **智能修复**: 自动检测并重新计算所有 0% 转化率
- ✅ **CSV 智能导入**: 导入时自动计算空白的百分比列（支持 Excel 导出的不完整 CSV）

### v1.2.0 (2026-01-20)
- ✅ **离线支持**: ECharts 库本地化，无需网络连接即可使用
- ✅ **可靠性提升**: 消除 CDN 依赖，适应任何网络环境

### v1.1.0 (2026-01-20)
- ✅ **重大更新**: 更新为8个业务指标（注册量、开户成功数、开户转化率、入金数、入金率、有效户数、有效户率、创收）
- ✅ **新增功能**: CSV 数据导入（支持替换/合并模式）
- ✅ **自动计算**: 三种转化率自动计算（开户转化率、入金率、有效户率）
- ✅ **优化公式**: 基于 Excel 模板的计算逻辑

### v1.0.0 (2026-01-20)
- ✅ 初始版本发布
- ✅ 双轴图表展示
- ✅ 数据 CRUD 功能
- ✅ 自动计算转化率
- ✅ CSV 导出功能
- ✅ 移动端适配

## 📄 许可证

MIT License - 自由使用和修改

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

---

**Made for Weekly Reporting | 为周度汇报而生** 🚀
